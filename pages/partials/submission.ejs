<!-- Keeping "graded" state in the DOM is bad, yet here we are. -->
<div class="card mb-4 pastsubmission-block" data-grading-job-status="<%= submission.grading_job_status %>" data-grading-job-id="<%= submission.grading_job_id %>" id="submission-<%= submission.id %>">
  <div class="card-header bg-light text-dark d-flex align-items-center submission-header <% if (submissionIdx != submissionCount) { %> collapsed <% } %>" data-toggle="collapse" data-target="#submission-<%= submission.id %>-body">
    Submitted answer
    <% if (submissionCount > 1) { %>
    <%= submissionIdx %>
    <% } %>
    <span class="ml-2"><%- include('submissionStatus', {submission: submission}); %></span>
    <small class="ml-auto">Submitted at <%- submission.formatted_date %></small>
    <button type="button" class="expand-icon-container btn btn-outline-secondary btn-sm ml-2">
      <i class="fa fa-angle-up fa-fw ml-1 expand-icon"></i>
    </button>
  </div>

  <div class="collapse <% if (submissionIdx == submissionCount) { %>show<% } %>" id="submission-<%= submission.id %>-body">
    <div class="card-body submission-body" >
      <%- submissionHtml %>
    </div>
  </div>
</div>
